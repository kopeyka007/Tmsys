<div class="wrapper" data-ng-controller="StepThreeController" ng-init="getParamBoards();calculateParam();">
	<div class="logo-wrapper text-center">
		<img src="/assets/img/logo.png" alt="logo">
	</div>
	<div class="main-box main-box-outsider">
		<div class="cheking-board">
			<div class="cheking-board-img">
				<img src="{{ cardInfo.srcBoard }}" alt="deska tarasowa">
			</div>
			<div class="cheking-board-description">
				<p class="text-center" data-ng-bind-html="cardInfo.firstBoard"></p>
				<p class="text-center" data-ng-bind-html="cardInfo.secondBoard "></p>
			</div>
			<div class="cheking-board-price">
				<span class="price">
					{{ cardInfo.priceFirstBoard.split('.')[0] }}
					<sup>{{ cardInfo.priceFirstBoard.split('.')[1] }}</sup>
				</span>
				<span class="price">
					{{ cardInfo.priceSecondBoard.split('.')[0] }}
					<sup>{{ cardInfo.priceSecondBoard.split('.')[1] }}</sup>
				</span>
			</div>
			<div class="cheking-board-terasy">
				<img src="{{ cardInfo.srcTerrace }}" alt="terasy">
			</div>
		</div>
		<button type="button" class="back-page" data-ng-click="changeRoute('/step-two', 'slide-left');lastend(1)">
			<img src="/assets/img/button-next.png" alt="back">
			<span>Powrót <br>do wyboru<br> innych desek</span>
		</button>
		<button type="button" data-ng-click="changeRoute('/step-two', 'slide-left');lastend(1)">Wstecz</button>
	</div>
	<div class="page-three">
		<div class="steps-box">
			<ul class="clearfix">
				<li class="active"><span>1</span></li>
				<li class="active"><span>2</span></li>
				<li class="active"><span>3</span></li>
				<li><span>4</span></li>
			</ul>
			<span class="caption-step-box">podaj kształt i wymiary tarasu</span>
		</div>
		<div class="container">
			<div class="row">
				<div class="col-xs-offset-2 col-xs-10">
					<div class="main-box">
						<div class="box-terrace">
							<div class="row">
								<div class="col-xs-3">
									<!--CARUSEL START-->
									<div class="carusel-figure-wrapper">
										<button type ="button" data-ng-click="prev(figures)" class="carusel-btn carusel-prev" data-ng-hide="true">
											<img src="assets/img/button-next.png" alt="prev">
										</button>
										<div class="carusel-figure">
											<div class="carusel-figure-item {{ caruselClass[key] }}"  data-ng-repeat="(key, figure) in figures">
												<div class="radio" data-ng-class="{'active': v.type == key}" data-ng-click="resetFormFigure()">
													<label for="{{ 'optionsRadios'+ key }}" class="label-type">
														<span>
															<img src="{{ figure.src }}" alt="figure">
														</span>
														<input  type="radio" 
															    name="optionsRadios" 
															    id="{{ 'optionsRadios'+ key }}" 
															    data-ng-model="v.type" 
															    value="{{ key }}" 
															    class="no-visible" 
															    required />
													</label>
												</div>
											</div>
										</div>
										<button type ="button" 
												data-ng-click="next(figures)" 
												class="carusel-btn carusel-next" 
												data-ng-hide="true">
												<img src="assets/img/button-prev.png" alt="next">
										</button>
									</div>
									<!--CARUSEL END-->
								</div>
								<div class="col-xs-9">
									<div class="terrace-field">
										<div class="terrace-figure-wrapper">
											<div class="terrace-figure-full" data-ng-show="v.type == 0">
												<div class="figure-square figure-light" data-ng-class="{ active:borderFigureBottom, activeleft:borderFigureLeft }">
													<span class="figure-border border-a">a</span>
													<span class="figure-border border-b">b</span>
												</div>
											</div>
											<div class="terrace-figure-full" data-ng-show="v.type == 1">
												<div class="figure-sqtwo-1 figure-light" data-ng-class="{ active:borderFigureTwoTop, activeleft:borderFigureTwoLeft }">
													<span class="figure-border border-c">c</span>
													<span class="figure-border border-d">d</span>
												</div>
												<div class="figure-sqtwo-2 figure-light" data-ng-class="{ active:borderFigureBottom, activeleft:borderFigureLeft }">
													<span class="figure-border border-a">a</span>
													<span class="figure-border border-b">b</span>
												</div>
											</div>
											<div class="terrace-figure-full" data-ng-show="v.type == 2">
												<div class="figure-circle-1 figure-light" data-ng-class="{ active:borderFigureTwoTop}">
													<span class="figure-border border-c">c</span>
													<span class="figure-border border-d">d</span>
													<span class="circle-radius" data-ng-class="{  activeFigure:borderFigureTwoLeft }"></span>
												</div>
												<div class="figure-circle-2 figure-light" data-ng-class="{ active:borderFigureBottom, activeleft:borderFigureLeft }">
													<span class="circle-width-inside" data-ng-class="{  activeFigure:borderFigureTwoTop }"></span>
													<span class="figure-border border-a">a</span>
													<span class="figure-border border-b">b</span>
												</div>
											</div>
											<div class="terrace-figure-full" data-ng-show="v.type == 3">
												<div class="figure-boot">
													<div class="figure-boot-1 figure-light" data-ng-class="{ active:borderFigureTwoTop, activeRight:trapezeRight}"></div>
													<div class="figure-boot-2 figure-light" data-ng-class="{ active:borderFigureBottom, activeright:borderFigureTwoLeft}"></div>
													<span class="figure-boot-left" data-ng-class="{  activeFigure:borderFigureLeft }"></span>
													<span class="figure-boot-top" data-ng-class="{  activeFigure:trapezeTop }"></span>
													<span class="figure-border border-a">a</span>
													<span class="figure-border border-b">b</span>
													<span class="figure-border border-z1">z1</span>
													<span class="figure-border border-c">c</span>
													<span class="figure-border border-d">d</span>
													<span class="figure-border border-z0">z0</span>
												</div>
											</div>
										</div>
										<div class="terrace-size">
											<form  name="terraceSize" novalidate="novalidate">
												<div class="input-row clearfix">
													<div class="input-field" data-ng-if="v.type <='2' ">
														<label class="active" for="terrace_x0">Strona A, m</label>
														<input 	type="number"
																data-ng-model="terrace.x[0]"
																name="terraceXA"
																class="validate" 
																id="terrace_x0" 
																ng-focus="borderFigureBottom = true" 
																ng-blur="borderFigureBottom = false;"
																min="0.01"
																step="0.01"
																required />
													</div>
													<div class="input-field input-margin" data-ng-if="v.type =='3' ">
														<label class="active" for="terrace_y03">Strona A, m</label>
														<input 	type="number"
																data-ng-model="terrace.y[0]" 
																class="validate" 
																name="terraceYA"
																id="terrace_y03" 
																ng-focus="borderFigureBottom = true" 
																ng-blur="borderFigureBottom = false;"
																min="0.01"
																step="0.01"
																ng-change="changeModel(terrace.y[0])"
																required />
													</div>
													<div class="input-field" data-ng-if="v.type == '0' || v.type == '1' || v.type == '2'">
														<label class="active" for="terrace_y0"> Strona B, m</label>
														<input 	type="number"
																data-ng-model="terrace.y[0]"
																name="terraceYB0"
																class="validate" 
																id="terrace_y0" 
																ng-focus="borderFigureLeft= true" 
																ng-blur="borderFigureLeft=false;"
																min="0.01"
																step="0.01"
																required />
													</div>
													<div class="input-field" data-ng-if="v.type == '3'">
														<label class="active" for="terrace_y11"> Strona B, m</label>
														<input 	type="number"
																data-ng-model="terrace.y[1]" 
																name="terraceYB1"
																class="validate" 
																id="terrace_y11" 
																ng-focus="borderFigureLeft= true" 
																ng-blur="borderFigureLeft=false;"
																min="0.01"
																step="0.01"
																required />
													</div>
												</div>
												<div class="input-row clearfix">
													<div>
														<div class="input-field" data-ng-if="v.type == '1' || v.type == '2'">
															<label class="active" for="terrace_y1" data-ng-if="v.type == '1'"
															>Strona C, m </label>
															<label class="active" for="terrace_y1" data-ng-if="v.type == '2'">Promień C, m</label>
															<input 	type="number" 
																	data-ng-model="terrace.y[1]" 
																	class="validate" 
																	name="terraceYC1"
																	id="terrace_y1" 
																	ng-focus="borderFigureTwoLeft = true" 
																	ng-blur="borderFigureTwoLeft = false"
																	min="0.01"
																	step="0.01"
																	required />
														</div>
														<div class="input-field" data-ng-if="v.type == '3'">
															<label class="active" for="terrace_x00">Strona C, mm </label>
															<input 	type="number"
																	data-ng-model="terrace.x[0]" 
																	name="terraceXC1"
																	class="validate" 
																	id="terrace_x00" 
																	ng-focus="borderFigureTwoLeft = true" 
																	ng-blur="borderFigureTwoLeft = false"
																	min="0.01"
																	step="0.01"
																	required />
														</div>
													</div>
													<div  data-ng-if="v.type == '1' || v.type == '2' || v.type == '3'">
														<div class="input-field form-group">
															<label class="active" for="terrace_x1"> Strona D, m</label>
															<input 	type="number"
																	data-ng-model="terrace.x[1]" 
																	class="validate" 
																	name="terraceXD1"
																	id="terrace_x1"
																	ng-focus="borderFigureTwoTop = true" 
																	ng-blur="borderFigureTwoTop = false"
																	min="0.01"
																	step="0.01"
																	required />
														</div>
													</div>
												</div>
												<div class="input-row clearfix">
													<div class="input-field form-group" data-ng-if="v.type == '3'">
														<label class="active" for="terrace_z1" data-ng-if="v.type == '3'">Z1, m</label>
														<input 	type="number"
																data-ng-model="terrace.z[1]" 
																name="terraceZ1"
																class="validate" 
																id="terrace_z1"
																ng-focus="trapezeRight = true" 
																ng-blur="trapezeRight = false"
																min="0.01"
																step="0.01"
																required />
													</div>
													<div data-ng-if="v.type == '3'">
														<div class="input-field form-group">
															<label class="active" for="terrace_z0" data-ng-if="v.type == '3'">Z0, m</label>
															<input 	type="number"
																	data-ng-model="terrace.z[0]" 
																	name="terraceZ0"
																	class="validate" 
																	id="terrace_z0" 
																	ng-focus="trapezeTop = true" 
																	ng-blur="trapezeTop = false"
																	min="0.01"
																	step="0.01"
																	required />
														</div>
													</div>
												</div>
												<div class="input-row">
													<button class="btn-calc text-center" type="submit" data-ng-click="validationForm();calculate();">Oblicz</button>
												</div>
											</form>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>		

	









<!-- Modal results -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <div class="row">
		    <div class="main-box results-box">
              	<button type="button" class="close" ng-click="close('Cancel')" data-dismiss="modal" aria-hidden="true">&times;</button>
              	<div class="col-lg-12">
					<div class="row">
						<div class="col-md-12">
							<div class="row">
								<div class="col-lg-4">
									<div class="results-terrace">
										<div class="canvas canvas0"></div>
									</div>
								</div>
								<div class="col-lg-4">
									<div class="results-terrace">
										<div class="canvas canvas1"></div>
									</div>
								</div>
								<div class="col-lg-4">
									<div class="results-terrace">
										<div class="canvas canvas2"></div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-12">
									<div class="results-box">
										<div class="row">
											<div class="col-md-4">
												<div class="result-container">
													<span class="board-quantity">X{{ boardsCount[0][0] }} <span>szt.</span></span>
												</div>
											</div>
											<div class="col-md-4">
												<div class="result-container">
													<span class="board-quantity">X{{ boardsCount[1][0] }} <span>szt.</span></span>
												</div>
											</div>
											<div class="col-md-4">
												<div class="result-container">
													<span class="board-quantity">X{{ boardsCount[2][0] }} <span>szt.</span></span><br>
													<span class="board-quantity">X{{ boardsCount[2][1] }} <span>szt.</span></span>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-md-12">
												<div class="result-container">
													<div class="results-board"  ng-show="v.unitStart">
														<span class="results-price">
																 {{ boardPrice.split('.')[0] }} 
															<sup>{{ boardPrice.split('.')[1] }}</sup>
															<span>/szt.</span>
														</span>
														<div class="result-board-pic">
															<img src="assets/img/board.png" alt="picture">
														</div>
														<p class="board-description">{{ boardName }}</p>
													</div>
													<div class="results-board"  ng-show="v.unitStart">
														<span class="results-price">
																 {{ boardPrice.split('.')[0] }} 
															<sup>{{ boardPrice.split('.')[1] }}</sup>
															<span>/szt.</span>
														</span>
														<div class="result-board-pic">
															<img src="assets/img/board.png" alt="picture">
														</div>
														<p class="board-description">{{ boardName }}</p>
													</div>
													<div class="results-board"  ng-hide="v.unitStart">
														<span class="results-price">
																 {{ boardPrice.split('.')[0] }} 
															<sup>{{ boardPrice.split('.')[1 ] }}</sup>
															<span>/szt.</span>
														</span>
														<div class="result-board-pic">
															<img src="assets/img/board.png" alt="picture">
														</div>
														<p class="board-description">{{ boardName }}</p>
													</div>
													<div class="results-board"  ng-hide="v.unitStart">
														<span class="results-price">
																 {{ boardPrice.split('.')[0] }} 
															<sup>{{ boardPrice.split('.')[1 ] }}</sup>
															<span>/szt.</span>
														</span>
														<div class="result-board-pic">
															<img src="assets/img/board.png" alt="picture">
														</div>
														<p class="board-description">{{ boardName }}</p>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-xs-12 text-center">
									<a href="#" class="board-pocaz">Pokaż całą listę  ></a>
									<hr class="board-hr">
								</div>
							</div>
							<div class="row">
								<div class="col-md-4">
									<div class="total-results">
										<span>suma</span> 
										<span>{{ (boardsCount[0][0] * boardPrice).toFixed(2) }} PLN</span>
									</div>
								</div>
								<div class="col-md-4 text-center">
									<div class="total-results">
										<span>suma</span> 
										<span>{{ (boardsCount[1][0] * boardPrice).toFixed(2) }} PLN</span>
									</div>
								</div>
								<div class="col-md-4 text-right">
									<div class="total-results">
										<span>suma</span> 
										<span>{{ ((boardsCount[2][0] *1 + boardsCount[2][1]*1 ) *boardPrice).toFixed(2) }} PLN</span>
									</div>
								</div>
							</div>
							<hr class="board-hr">
							<div class="row">
								<div class="col-lg-4">
									<div class="results-terrace">
										<div class="canvas canvas3"></div>
									</div>
								</div>
								<div class="col-lg-4">
									<div class="results-terrace">
										<div class="canvas canvas4"></div>
									</div>
								</div>
								<div class="col-lg-4">
									<div class="results-terrace">
										<div class="canvas canvas5"></div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-12">
									<div class="results-box">
										<div class="row">
											<div class="col-md-4">
												<div class="result-container">
													<span class="board-quantity">X{{ boardsCount[3][0] }} <span>szt.</span></span>
												</div>
											</div>
											<div class="col-md-4">
												<div class="result-container">
													<span class="board-quantity">X{{ boardsCount[4][0] }} <span>szt.</span></span>
												</div>
											</div>
											<div class="col-md-4">
												<div class="result-container">
													<span class="board-quantity">X{{ boardsCount[5][0] }} <span>szt.</span></span><br>
													<span class="board-quantity">X{{ boardsCount[5][1] }} <span>szt.</span></span>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-md-12">
												<div class="result-container">
													<div class="results-board"  ng-show="v.unitStart">
														<span class="results-price">
																 {{ boardPrice.split('.')[0] }} 
															<sup>{{ boardPrice.split('.')[1] }}</sup>
															<span>/szt.</span>
														</span>
														<div class="result-board-pic">
															<img src="assets/img/board.png" alt="picture">
														</div>
														<p class="board-description">{{ boardName }}</p>
													</div>
													<div class="results-board"  ng-show="v.unitStart">
														<span class="results-price">
																 {{ boardPrice.split('.')[0] }} 
															<sup>{{ boardPrice.split('.')[1] }}</sup>
															<span>/szt.</span>
														</span>
														<div class="result-board-pic">
															<img src="assets/img/board.png" alt="picture">
														</div>
														<p class="board-description">{{ boardName }}</p>
													</div>
													<div class="results-board"  ng-hide="v.unitStart">
														<span class="results-price">
																 {{ boardPrice.split('.')[0] }} 
															<sup>{{ boardPrice.split('.')[1 ] }}</sup>
															<span>/szt.</span>
														</span>
														<div class="result-board-pic">
															<img src="assets/img/board.png" alt="picture">
														</div>
														<p class="board-description">{{ boardName }}</p>
													</div>
													<div class="results-board"  ng-hide="v.unitStart">
														<span class="results-price">
																 {{ boardPrice.split('.')[0] }} 
															<sup>{{ boardPrice.split('.')[1] }}</sup>
															<span>/szt.</span>
														</span>
														<div class="result-board-pic">
															<img src="assets/img/board.png" alt="picture">
														</div>
														<p class="board-description">{{ boardName }}</p>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-xs-12 text-center">
									<a href="#" class="board-pocaz">Pokaż całą listę  ></a>
									<hr class="board-hr">
								</div>
							</div>
							<div class="row">
								<div class="col-md-4">
									<div class="total-results">
										<span>suma</span> 
										<span>{{ (boardsCount[3][0] * boardPrice).toFixed(2) }} PLN</span> 
									</div>
								</div>
								<div class="col-md-4 text-center">
									<div class="total-results">
										<span>suma</span> 
										<span>{{ (boardsCount[4][0] * boardPrice).toFixed(2) }} PLN</span> 
									</div>
								</div>
								<div class="col-md-4 text-right">
									<div class="total-results">
										<span>suma</span> 
										<span>{{ ((boardsCount[5][0] *1 + boardsCount[5][1]*1 ) *boardPrice).toFixed(2) }} PLN</span> 
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>
      </div>
    </div>
  </div>
</div>